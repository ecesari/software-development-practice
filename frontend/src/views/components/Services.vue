<template>
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-12">
        <div
          v-for="(serviceArray, index) in nestedServiceArray"
          :key="index"
          class="row row-grid"
        >
          <div
            v-for="service in serviceArray"
            :key="service.id"
            class="col-lg-4"
          >
            <card class="border-0" hover shadow body-classes="py-5">
              <icon name="ni ni-check-bold" type="primary" rounded class="mb-4">
              </icon>
              <h6 class="text-primary text-uppercase">{{ service.id }}</h6>
              <p class="description mt-3">
                Argon is a great free UI package based on Bootstrap 4 that
                includes the most important components and features.
              </p>
              <div>
                <badge type="primary" rounded>{{ service.id }}</badge>
                <badge type="primary" rounded>system</badge>
                <badge type="primary" rounded>creative</badge>
              </div>
              <base-button tag="a" href="#" type="primary" class="mt-4">
                Learn more
              </base-button>
            </card>
          </div>
          <!-- <div class="col-lg-4">
            <card class="border-0" hover shadow body-classes="py-5">
              <icon name="ni ni-istanbul" type="success" rounded class="mb-4">
              </icon>
              <h6 class="text-success text-uppercase">Build Something</h6>
              <p class="description mt-3">
                Argon is a great free UI package based on Bootstrap 4 that
                includes the most important components and features.
              </p>
              <div>
                <badge type="success" rounded>business</badge>
                <badge type="success" rounded>vision</badge>
                <badge type="success" rounded>success</badge>
              </div>
              <base-button tag="a" href="#" type="success" class="mt-4">
                Learn more
              </base-button>
            </card>
          </div>
          <div class="col-lg-4">
            <card class="border-0" hover shadow body-classes="py-5">
              <icon name="ni ni-planet" type="warning" rounded class="mb-4">
              </icon>
              <h6 class="text-warning text-uppercase">Prepare Launch</h6>
              <p class="description mt-3">
                Argon is a great free UI package based on Bootstrap 4 that
                includes the most important components and features.
              </p>
              <div>
                <badge type="warning" rounded>marketing</badge>
                <badge type="warning" rounded>product</badge>
                <badge type="warning" rounded>launch</badge>
              </div>
              <base-button tag="a" href="#" type="warning" class="mt-4">
                Learn more
              </base-button>
            </card>
          </div> -->
        </div>
        <div class="row row-grid">
          <div class="col-lg-4">
            <card class="border-0" hover shadow body-classes="py-5">
              <icon name="ni ni-check-bold" type="primary" rounded class="mb-4">
              </icon>
              <h6 class="text-primary text-uppercase">Download Argon</h6>
              <p class="description mt-3">
                Argon is a great free UI package based on Bootstrap 4 that
                includes the most important components and features.
              </p>
              <div>
                <badge type="primary" rounded>design</badge>
                <badge type="primary" rounded>system</badge>
                <badge type="primary" rounded>creative</badge>
              </div>
              <base-button tag="a" href="#" type="primary" class="mt-4">
                Learn more
              </base-button>
            </card>
          </div>
          <div class="col-lg-4">
            <card class="border-0" hover shadow body-classes="py-5">
              <icon name="ni ni-istanbul" type="success" rounded class="mb-4">
              </icon>
              <h6 class="text-success text-uppercase">Build Something</h6>
              <p class="description mt-3">
                Argon is a great free UI package based on Bootstrap 4 that
                includes the most important components and features.
              </p>
              <div>
                <badge type="success" rounded>business</badge>
                <badge type="success" rounded>vision</badge>
                <badge type="success" rounded>success</badge>
              </div>
              <base-button tag="a" href="#" type="success" class="mt-4">
                Learn more
              </base-button>
            </card>
          </div>
          <div class="col-lg-4">
            <card class="border-0" hover shadow body-classes="py-5">
              <icon name="ni ni-planet" type="warning" rounded class="mb-4">
              </icon>
              <h6 class="text-warning text-uppercase">Prepare Launch</h6>
              <p class="description mt-3">
                Argon is a great free UI package based on Bootstrap 4 that
                includes the most important components and features.
              </p>
              <div>
                <badge type="warning" rounded>marketing</badge>
                <badge type="warning" rounded>product</badge>
                <badge type="warning" rounded>launch</badge>
              </div>
              <base-button tag="a" href="#" type="warning" class="mt-4">
                Learn more
              </base-button>
            </card>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import Hero from "./Hero";
import apiRegister from "@/api/register";

export default {
  data() {
    return {
      serviceResult: [
        // location: "",
        // time: "",
        // header: "",
        // minutes: "",
        // description: "",
        // quota: "",
        // createdUserIdId: "",
        // selectedTags: [],
        // id:""
      ],
      nestedServiceArray: [],
    };
  },
  mounted() {
    this.GetServices();
  },
  methods: {
    GetServices() {
      if (this.getByUser) {
        console.log("Get Services by User Started");
        apiRegister.GetServicesByUser().then((response) => {
          debugger;
          this.serviceResult = response;
          this.nestedServiceArray = this.SplitList();
        });
      } else {
        console.log("Get All Services Started");
        apiRegister.GetAllServices().then((response) => {
          debugger;
          this.serviceResult = response;
          this.nestedServiceArray = this.SplitList();
        });
      }

      console.log("Get Services Finished");
    },
    SplitList() {
      var array = this.serviceResult;
      var listOfArrays = [];

      var i,
        j,
        temporary,
        chunk = 3;
      for (i = 0, j = array.length; i < j; i += chunk) {
        temporary = array.slice(i, i + chunk);
        listOfArrays.push(temporary);
      }
      return listOfArrays;
    }
  },
  props: {
    getByUser: Boolean,
  },
  components: {
    Hero,
  },
};
</script>
